<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Trendify Web Client Login</title>
    <link rel="stylesheet" type="text/css" href="css/login.css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,900" rel="stylesheet">

    <script src="https://www.gstatic.com/firebasejs/5.1.0/firebase.js"></script>
</head>

<body>
    <p id = "welcome">Enter an email and password below and either sign in to an existing account or sign up<br></p>

    <input type="text" id="email" name="email" placeholder="Email"/>
    &nbsp;&nbsp;&nbsp;
    <div id = "passInput">
        <input type="password" id="password" name="password" placeholder="Password"/>
        <br/><br/>
    </div>

    <div id = "signInButton">
        <button id = "signIn" onclick = "signIn()">Sign In</button>
        <br></br>
    </div>
    <div id = "showSignUpButton">
        <button id = "showSignUp" onclick = "showSignUp()">Sign Up Here</button>
        <br></br>
    </div>
    <button id = "submitForgotPass" onclick = "submitForgotPass()" style = "display: none">Submit</button>
    <button id = "forgotPass" onclick = "forgotPass()">Forgot Password?</button>
    <br></br>

    <div id = "signUpButton">
        <button id = "signUp" onclick = "signUp()" style = "display: none">Sign Up</button>
        <br></br>
    </div>
    <button id = "backToSignIn" onclick = "backToSignIn()" style = "display: none">Back to sign in</button>

</body>

<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyB7L90KJXE9QtBEHpf1HDajs6eXY9DZjnU",
    authDomain: "trendify-26b3b.firebaseapp.com",
    databaseURL: "https://trendify-26b3b.firebaseio.com",
    projectId: "trendify-26b3b",
    storageBucket: "trendify-26b3b.appspot.com",
    messagingSenderId: "804966898269"
  };
  firebase.initializeApp(config);

  firebase.auth().onAuthStateChanged(function(user) {
    if (user) {
        // User logged in.
        console.log("logged in");
        alert("Already logged in.");
        window.location = 'main.html';
    } else {
        // Show UI to login. This can be either triggered on initial sign in or on return from redirect
        // to complete the pending redirect.
        console.log("Not logged in!");
        // alert("Please log in before viewing the admin dashboard.");
        // window.location = 'index.html';
    }
});
</script>

<script src = "js/login.js"></script>

</html>